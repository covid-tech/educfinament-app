<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button text=""></ion-back-button>
    </ion-buttons>
    <ion-title>{{ activitat ? activitat.titol : 'Activitat' }}</ion-title>
    <ion-buttons slot="end">
      <!-- TODO: Mostrar boto nomes quan socProfessor: *ngIf="activitat && activitat.socProfessor" -->
      <ion-button fill="clear" (click)="goToEditActivity()">
        Editar
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button color="light" (click)="showModalUploadVideo()">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-content>

  <div class="no-publicada-outer" *ngIf="activitat && !activitat.publicada">
    <div class="no-publicada">
      <h1 class="ion-text-center">NO PULICADA</h1>
    </div>
  </div>

  <ion-item (click)="mostrantDetalls = !mostrantDetalls" lines="none">
    <ion-label>
      <ion-text>
        {{ activitat ? activitat.objectius : '' }}
      </ion-text>
    </ion-label>
    <ion-chip outline="true" [color]="activitat ? activitat.color : 'medium'">
      <ion-label>Detalls</ion-label>
      <ion-icon *ngIf="!mostrantDetalls" name="chevron-down"></ion-icon>
      <ion-icon *ngIf="mostrantDetalls" name="chevron-up"></ion-icon>
    </ion-chip>
    <!-- <ion-note slot="end" color="blue">Més informació</ion-note>
    <ion-icon *ngIf="!mostrantDetalls" slot="end" name="chevron-down"></ion-icon>
    <ion-icon *ngIf="mostrantDetalls" slot="end" name="chevron-up"></ion-icon> -->
  </ion-item>

  <div *ngIf="mostrantDetalls">
    <ion-item lines="none">
      <ion-label position="stacked">Descripció</ion-label>
      <ion-textarea *ngIf="activitat" [(ngModel)]="activitat.descripcio" readonly></ion-textarea>
    </ion-item>
  
    <ion-item lines="none">
      <ion-label position="stacked">Objectius</ion-label>
      <ion-textarea *ngIf="activitat" [(ngModel)]="activitat.objectius" readonly></ion-textarea>
    </ion-item>
  
    <ion-item lines="none">
      <ion-label position="stacked">Materials</ion-label>
      <ion-textarea *ngIf="activitat" [(ngModel)]="activitat.materials" readonly></ion-textarea>
    </ion-item>
  
    <ion-grid fixed>
      <ion-row>
        <ion-col size="6">
          <ion-item lines="none">
            <ion-label position="stacked">De</ion-label>
            <!-- TODO: Canviar el format horari i afegir hora -->
            <ion-datetime [(ngModel)]="activitat.dataPublicacio" display-timezone="utc" readonly></ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col size="6">
          <ion-item lines="none">
            <ion-label position="stacked">Fins</ion-label>
            <!-- TODO: Canviar el format horari i afegir hora -->
            <ion-datetime [(ngModel)]="activitat.dataFinalitzacio" display-timezone="utc" readonly></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>

  <app-video-item
    *ngIf="activitat && activitat.videoInici"
    [video]="activitat.videoInici"
    [color]="activitat.color">
  </app-video-item>

  <div class="participants-outter ion-padding" *ngIf="activitat && activitat.videos">
    <div class="participants-inner">

      <app-activity-btn
        *ngFor="let video of activitat.videos"
        [video]="video">
      </app-activity-btn>
      
    </div>
  </div>

  <app-video-item
    *ngIf="activitat && activitat.videoFi"
    [video]="activitat.videoFi"
    color="blue">
  </app-video-item>

</ion-content>
